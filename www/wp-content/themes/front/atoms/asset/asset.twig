{# Vars #}

{% def class = '' %}
{% def file = '' %}
{% def format = 'png' %}
{% def width = 0 %}
{% def height = 0 %}
{% def fit = '' %}
{% def loading = '' %}
{% def caption = false %}

{# Template #}

{% if format == 'svg' %}
	{{ svg('assets/' ~ file ~ '.svg', 'asset ' ~ class) }}
{% elseif width and height %}
	{% set path = paths.assets ~ '/' ~ file ~ '@' %}
	{% set src = path ~ '1x.' ~ format %}
	{% set srcset = src ~ ' ' ~ width ~ 'w' %}
	{% for i in 2..3 %}
		{% set srcset = srcset ~ ', ' ~ path ~ i ~ 'x.' ~ format ~ ' ' ~ width * i
			~ 'w'
		%}
	{% endfor %}

	{% include 'atoms/media' with {
		class: class,
		file: file,
		url: src,
		srcset: srcset,
		fit: fit,
		width: width,
		height: height,
		loading: preload,
		caption: caption
	} %}
{% endif %}
